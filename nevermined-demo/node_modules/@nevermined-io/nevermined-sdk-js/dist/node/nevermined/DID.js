"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GeneratorHelpers_1 = require("../utils/GeneratorHelpers");
const prefix = 'did:nv:';
class DID {
    constructor(id) {
        this.id = id;
    }
    static parse(didString) {
        if (didString instanceof DID) {
            didString = didString.getDid();
        }
        let did;
        const didMatch = didString.match(/^did:nv:([a-f0-9]{64})$/i);
        if (didMatch) {
            did = new DID(didMatch[1]);
        }
        if (!did) {
            throw new Error(`Parsing DID failed, ${didString}`);
        }
        return did;
    }
    static generate() {
        return new DID(GeneratorHelpers_1.generateId());
    }
    getDid() {
        return `${prefix}${this.id}`;
    }
    getId() {
        return this.id;
    }
}
exports.default = DID;
//# sourceMappingURL=DID.js.map